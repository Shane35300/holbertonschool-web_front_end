<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

	<meta charset="utf-8" />
	<title>Task 5</title>
	<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
		integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
	<script type="application/javascript">
		$(document).ready(function () {
			function createFamilyTree() {
				const table = $('<table><thead><tr><th>Firstname</th><th>Lastname</th></tr></thead><tbody></tbody></table>');
				$('body').append(table);
			}
			function addNewMember(firstName, lastName, position) {
				const newRow = $(`
					<tr>
						<td>${firstName}</td>
						<td>${lastName}</td>
						<td>(x)</td>
					</tr>`);
				newRow.find('td:eq(2)').css('background-color', 'orange');
				newRow.find('td:eq(2)').click(function () {
					$(this).closest('tr').remove();
				});
				if (position === 'before') {
					$('tbody').prepend(newRow);
				} else {
					$('tbody').append(newRow);
				}
			}
			function createForm() {
				const input1 = $('<input type="text">');
				const input2 = $('<input type="text">');
				const inputSubmit = $('<input type="submit" value="Submit">');
				const select = $('<select><option value="before">Before</option><option value="after">After</option></select>');
				inputSubmit.click(function(event) {
					event.preventDefault();
					const value1 = $('input').first().val();
					const value2 = $('input:nth-of-type(2)').val();
					const position = $('select').val();
					addNewMember(value1, value2, position);
				});

				$('table').before(input1, input2, select, inputSubmit);
			}
			createFamilyTree();
			createForm();
		});
	</script>
</head>

<body>

</body>

</html>
